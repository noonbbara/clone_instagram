<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <!-- Jquery -->
    <script src="http://code.jquery.com/jquery-latest.min.js"></script>
    
    <title>Login</title>
</head>
<body style="background-color: lightgray">
<div style="text-align: center; display: flex; justify-content: center">
    <div style=" padding: 20px; border: solid 1px gray; width: 400px; height: 600px; background-color: white">
        <div><img style="margin: 10px" src="https://postfiles.pstatic.net/MjAyNDAyMTJfMTg3/MDAxNzA3NzI5NDMxNTY2.yKE6a7muam6TLBtFgV7igFiRy1eiveoHkMBxU6MwHskg.-W57CUKRDi0fna_lCLjThnz9vVf_UGjDk94OV_64KPEg.PNG.ysys1226/image.png?type=w773"></div>
        <div style="font-weight: bold; color: gray; margin-bottom: 10px">친구들의 사진과 동영상을 보려면 가입하세요</div>
        <div>
            <div class="form-floating mb-3">
            <input type="email" class="form-control" id="email_input" placeholder="name@example.com">
            <label for="email_input">이메일 주소</label>
            </div>  
        </div>
        <div>
            <div class="form-floating mb-3">
            <input type="password" class="form-control" id="password_input" placeholder="홍길동">
            <label for="password_input">비밀번호</label>
            </div>  
        </div>
        <button id="login_button" style="margin-bottom: 10px">로그인</button>
        <div style="text-align: center">계정이 없으신가요? <a href="join">가입하기</a></div>
    </div>
    </div>
    
</div>


<script>
    $('#login_button').click(function () {

        let email = $('#email_input').val();
        let password = $('#password_input').val();

        $.ajax({
            url     : "/user/login",
            data    : {
                email : email,
                password : password
            },
            method  : "POST",
            success : function (data){
                console.log("성공");
                alert("로그인 성공");
                location.replace('/main');
            },
            error   : function(request, status, error){
                console.log("에러");
            },
            complete: function() {
                console.log("완료");
            }
        });
    });
</script>
</body>
</html>